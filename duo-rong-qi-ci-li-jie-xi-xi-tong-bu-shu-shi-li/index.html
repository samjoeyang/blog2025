<!DOCTYPE html>
<html lang="zh-CN">
    <head>
    <meta charset="utf-8">

    

    <!-- æ¸²æŸ“ä¼˜åŒ– -->
    <meta name="renderer" content="webkit">
    <meta name="force-rendering" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="HandheldFriendly" content="True" >
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    
    <!--icon-->

    
    
    
    
    


    <!-- meta -->


<title>å¤šå®¹å™¨ç£åŠ›è§£æç³»ç»Ÿéƒ¨ç½²ç¤ºä¾‹ï¼ˆDocker Composeï¼‰ | Need.UNO</title>


    <meta name="keywords" content="Docker, é¡¹ç›®éœ€æ±‚, Docker Compose, ç£åŠ›é“¾æ¥, qBittorrent, Redis, PostgreSQL, çˆ¬è™«, Scrapy, ç³»ç»Ÿéƒ¨ç½², å®¹å™¨åŒ–, AI, äººå·¥æ™ºèƒ½, æŠ€æœ¯é©å‘½, æœªæ¥å±•æœ›, ç¤¾ä¼šå˜é©">




    <!-- OpenGraph -->
 
    <meta name="description" content="å¥½çš„ï¼Œæˆ‘å·²ç»ä¸ºæ‚¨æ•´ç†äº†å…³äºç£åŠ›é“¾æ¥è‡ªåŠ¨æŠ“å–æœºå™¨äººç¨‹åºçš„æ•´ä¸ªæŠ€æœ¯æ–¹æ¡ˆï¼Œå¹¶å‡†å¤‡äº†ç›¸åº”çš„ docker-compose.yml å†…å®¹ã€‚ ç”±äºæˆ‘æ˜¯ä¸€ä¸ªæ–‡æœ¬AIï¼Œæ— æ³•ç›´æ¥ä¸ºæ‚¨ç”Ÿæˆå¹¶æä¾›æ–‡ä»¶ä¸‹è½½é“¾æ¥ã€‚ä½†æ˜¯ï¼Œæ‚¨å¯ä»¥å°†ä¸‹é¢æä¾›çš„å†…å®¹å¤åˆ¶ç²˜è´´åˆ°ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨ä¸­ï¼ˆå¦‚VS Code, Sublime Text, Notepad++ç­‰ï¼‰ï¼Œç„¶åå°†æ–‡ä»¶ä¿å­˜ä¸º README.md æˆ–å…¶ä»–æ‚¨å–œæ¬¢çš„ Markdown æ–‡ä»¶åã€‚">
<meta property="og:type" content="website">
<meta property="og:title" content="å¤šå®¹å™¨ç£åŠ›è§£æç³»ç»Ÿéƒ¨ç½²ç¤ºä¾‹ï¼ˆDocker Composeï¼‰">
<meta property="og:url" content="https://need.uno/duo-rong-qi-ci-li-jie-xi-xi-tong-bu-shu-shi-li/index.html">
<meta property="og:site_name" content="Need.UNO">
<meta property="og:description" content="å¥½çš„ï¼Œæˆ‘å·²ç»ä¸ºæ‚¨æ•´ç†äº†å…³äºç£åŠ›é“¾æ¥è‡ªåŠ¨æŠ“å–æœºå™¨äººç¨‹åºçš„æ•´ä¸ªæŠ€æœ¯æ–¹æ¡ˆï¼Œå¹¶å‡†å¤‡äº†ç›¸åº”çš„ docker-compose.yml å†…å®¹ã€‚ ç”±äºæˆ‘æ˜¯ä¸€ä¸ªæ–‡æœ¬AIï¼Œæ— æ³•ç›´æ¥ä¸ºæ‚¨ç”Ÿæˆå¹¶æä¾›æ–‡ä»¶ä¸‹è½½é“¾æ¥ã€‚ä½†æ˜¯ï¼Œæ‚¨å¯ä»¥å°†ä¸‹é¢æä¾›çš„å†…å®¹å¤åˆ¶ç²˜è´´åˆ°ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨ä¸­ï¼ˆå¦‚VS Code, Sublime Text, Notepad++ç­‰ï¼‰ï¼Œç„¶åå°†æ–‡ä»¶ä¿å­˜ä¸º README.md æˆ–å…¶ä»–æ‚¨å–œæ¬¢çš„ Markdown æ–‡ä»¶åã€‚">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2025-06-18T06:08:16.000Z">
<meta property="article:modified_time" content="2025-06-23T05:35:26.304Z">
<meta property="article:author" content="Samjoe Yang">
<meta property="article:tag" content="Docker">
<meta property="article:tag" content="é¡¹ç›®éœ€æ±‚">
<meta property="article:tag" content="Docker Compose">
<meta property="article:tag" content="ç£åŠ›é“¾æ¥">
<meta property="article:tag" content="qBittorrent">
<meta property="article:tag" content="Redis">
<meta property="article:tag" content="PostgreSQL">
<meta property="article:tag" content="çˆ¬è™«">
<meta property="article:tag" content="Scrapy">
<meta property="article:tag" content="ç³»ç»Ÿéƒ¨ç½²">
<meta property="article:tag" content="å®¹å™¨åŒ–">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@samjoeyang">


    
<link rel="stylesheet" href="/css/style/main.css">
 

    
    
    

    

     

    <!-- custom head -->


    <script async custom-element="amp-auto-ads" src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js"></script>
<meta name="generator" content="Hexo 7.3.0"></head>

    <body>
        <div id="app" tabindex="-1">
            <header class="header">
    <div class="header__left">
        <a href="/" class="button">
            <span class="logo__text">Need.UNO</span>
        </a>
    </div>
    <div class="header__right">
        
            <div class="navbar__menus">
                
                    <a href="/" class="navbar-menu button">é¦–é¡µ</a>
                
                    <a href="/tags/" class="navbar-menu button">æ ‡ç­¾</a>
                
                    <a href="/archives/" class="navbar-menu button">å½’æ¡£</a>
                
                    <a href="/about/" class="navbar-menu button">å…³äº</a>
                
            </div>
        
        
        
    <a href="/search/" id="btn-search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" width="24" height="24" fill="currentColor" stroke="currentColor" stroke-width="32"><path d="M192 448c0-141.152 114.848-256 256-256s256 114.848 256 256-114.848 256-256 256-256-114.848-256-256z m710.624 409.376l-206.88-206.88A318.784 318.784 0 0 0 768 448c0-176.736-143.264-320-320-320S128 271.264 128 448s143.264 320 320 320a318.784 318.784 0 0 0 202.496-72.256l206.88 206.88 45.248-45.248z"></path></svg>
    </a>


        
        

        
            <a class="dropdown-icon button" id="btn-dropdown" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width='24' height='24' fill="none" stroke="currentColor" stroke-width="0.7" stroke-linecap="round" stroke-linejoin="round"><path fill="currentColor" d="M3.314,4.8h13.372c0.41,0,0.743-0.333,0.743-0.743c0-0.41-0.333-0.743-0.743-0.743H3.314c-0.41,0-0.743,0.333-0.743,0.743C2.571,4.467,2.904,4.8,3.314,4.8z M16.686,15.2H3.314c-0.41,0-0.743,0.333-0.743,0.743s0.333,0.743,0.743,0.743h13.372c0.41,0,0.743-0.333,0.743-0.743S17.096,15.2,16.686,15.2z M16.686,9.257H3.314c-0.41,0-0.743,0.333-0.743,0.743s0.333,0.743,0.743,0.743h13.372c0.41,0,0.743-0.333,0.743-0.743S17.096,9.257,16.686,9.257z"></path></svg></a>
            <div class="dropdown-menus" id="dropdown-menus">
                
                    <a href="/" class="dropdown-menu button">é¦–é¡µ</a>
                
                    <a href="/tags/" class="dropdown-menu button">æ ‡ç­¾</a>
                
                    <a href="/archives/" class="dropdown-menu button">å½’æ¡£</a>
                
                    <a href="/about/" class="dropdown-menu button">å…³äº</a>
                
            </div>
        
    </div>
</header>


            <main class="main">
    

<div class="post-title">
    <h1 class="post-title__text">
        å¤šå®¹å™¨ç£åŠ›è§£æç³»ç»Ÿéƒ¨ç½²ç¤ºä¾‹ï¼ˆDocker Composeï¼‰
    </h1>
    
    <div class="post-title__meta">
        <a href="/archives/2025/06/" class="post-meta__date button">2025-06-18</a>
        
 
        
    
    


 

 
    </div>
</div>



<article class="post content-card">
    <div class="post__header"></div>



<button onclick="speakArticle()" style="position: fixed; bottom: 10px; right: 10px; z-index: 1000;">ğŸ”Š æœ—è¯»æœ¬æ–‡</button>

<script>
    function speakArticle() {
        //   const text = document.getElementById('post__content').innerText;
        const text = document.getElementsByClassName('post__content')[0].innerText
        const msg = new SpeechSynthesisUtterance(text);
        msg.lang = 'zh-CN';
        window.speechSynthesis.speak(msg);
    }
</script>


    <div class="post__content">
        <hr>
<p>å¥½çš„ï¼Œæˆ‘å·²ç»ä¸ºæ‚¨æ•´ç†äº†å…³äºç£åŠ›é“¾æ¥è‡ªåŠ¨æŠ“å–æœºå™¨äººç¨‹åºçš„æ•´ä¸ªæŠ€æœ¯æ–¹æ¡ˆï¼Œå¹¶å‡†å¤‡äº†ç›¸åº”çš„ <code>docker-compose.yml</code> å†…å®¹ã€‚</p>
<p>ç”±äºæˆ‘æ˜¯ä¸€ä¸ªæ–‡æœ¬AIï¼Œæ— æ³•ç›´æ¥ä¸ºæ‚¨ç”Ÿæˆå¹¶æä¾›æ–‡ä»¶ä¸‹è½½é“¾æ¥ã€‚ä½†æ˜¯ï¼Œæ‚¨å¯ä»¥å°†ä¸‹é¢æä¾›çš„å†…å®¹<strong>å¤åˆ¶ç²˜è´´</strong>åˆ°ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨ä¸­ï¼ˆå¦‚VS Code, Sublime Text, Notepad++ç­‰ï¼‰ï¼Œç„¶åå°†æ–‡ä»¶ä¿å­˜ä¸º <code>README.md</code> æˆ–å…¶ä»–æ‚¨å–œæ¬¢çš„ Markdown æ–‡ä»¶åã€‚</p>
<hr>
<h1 id="ç£åŠ›é“¾æ¥è‡ªåŠ¨æŠ“å–æœºå™¨äººç¨‹åº-Docker-åŒ–éƒ¨ç½²æ–¹æ¡ˆ"><a href="#ç£åŠ›é“¾æ¥è‡ªåŠ¨æŠ“å–æœºå™¨äººç¨‹åº-Docker-åŒ–éƒ¨ç½²æ–¹æ¡ˆ" class="headerlink" title="ç£åŠ›é“¾æ¥è‡ªåŠ¨æŠ“å–æœºå™¨äººç¨‹åº - Docker åŒ–éƒ¨ç½²æ–¹æ¡ˆ"></a>ç£åŠ›é“¾æ¥è‡ªåŠ¨æŠ“å–æœºå™¨äººç¨‹åº - Docker åŒ–éƒ¨ç½²æ–¹æ¡ˆ</h1><p>æœ¬é¡¹ç›®æ—¨åœ¨æ„å»ºä¸€ä¸ªå¤šå®¹å™¨çš„ç£åŠ›é“¾æ¥è‡ªåŠ¨æŠ“å–ä¸ç®¡ç†ç³»ç»Ÿã€‚é€šè¿‡å°†ä¸åŒåŠŸèƒ½è§£è€¦ä¸ºç‹¬ç«‹çš„ Docker å®¹å™¨ï¼Œå®ç°ç¯å¢ƒéš”ç¦»ã€éƒ¨ç½²ä¸€è‡´æ€§ã€å¯ä¼¸ç¼©æ€§åŠæ›´å¥½çš„èµ„æºç®¡ç†ã€‚</p>
<hr>
<h2 id="1-æ ¸å¿ƒæ¶æ„æ¦‚è¿°"><a href="#1-æ ¸å¿ƒæ¶æ„æ¦‚è¿°" class="headerlink" title="1. æ ¸å¿ƒæ¶æ„æ¦‚è¿°"></a>1. æ ¸å¿ƒæ¶æ„æ¦‚è¿°</h2><p>æœ¬ç³»ç»Ÿé‡‡ç”¨å¾®æœåŠ¡æ¶æ„ï¼Œæ ¸å¿ƒç»„ä»¶åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>Redis</strong>: ä½œä¸ºæ¶ˆæ¯é˜Ÿåˆ—ï¼Œè§£è€¦çˆ¬è™«ä¸è§£æå™¨ã€‚</li>
<li><strong>PostgreSQL</strong>: å…³ç³»å‹æ•°æ®åº“ï¼Œç”¨äºæŒä¹…åŒ–å­˜å‚¨æ‰€æœ‰æŠ“å–å’Œè§£æåçš„ç£åŠ›é“¾æ¥æ•°æ®ã€‚</li>
<li><strong>qBittorrent</strong>: æ ¸å¿ƒæœåŠ¡ï¼Œåˆ©ç”¨å…¶å¼ºå¤§çš„ P2P ç½‘ç»œï¼ˆDHT&#x2F;Trackerï¼‰è¿æ¥èƒ½åŠ›ï¼Œé€šè¿‡ Web UI API è·å–ç£åŠ›é“¾æ¥çš„å…ƒæ•°æ®ï¼ˆæ–‡ä»¶åã€å¤§å°ç­‰ï¼‰ã€‚</li>
<li><strong>Scrapy æŠ“å–å™¨</strong>: ç½‘ç»œçˆ¬è™«ï¼Œè´Ÿè´£ä»æŒ‡å®šç½‘ç«™æŠ“å–åŸå§‹ç£åŠ›é“¾æ¥ã€‚</li>
<li><strong>Magnet è§£æå™¨</strong>: å¤„ç†æŠ“å–åˆ°çš„ç£åŠ›é“¾æ¥ï¼Œè°ƒç”¨ qBittorrent API è·å–å…ƒæ•°æ®ï¼Œå¹¶è¿›è¡Œæ•°æ®æ¸…æ´—å’Œå­˜å‚¨ã€‚</li>
<li><strong>Web UI</strong>: æä¾›ä¸€ä¸ªç”¨æˆ·å‹å¥½çš„ç½‘é¡µç•Œé¢ï¼Œå±•ç¤ºå·²å¤„ç†çš„ç£åŠ›é“¾æ¥ä¿¡æ¯ã€‚</li>
</ul>
<hr>
<h2 id="2-å„å®¹å™¨èŒè´£ä¸æŠ€æœ¯æ ˆ"><a href="#2-å„å®¹å™¨èŒè´£ä¸æŠ€æœ¯æ ˆ" class="headerlink" title="2. å„å®¹å™¨èŒè´£ä¸æŠ€æœ¯æ ˆ"></a>2. å„å®¹å™¨èŒè´£ä¸æŠ€æœ¯æ ˆ</h2><h3 id="2-1-Redis-å®¹å™¨-Message-Queue"><a href="#2-1-Redis-å®¹å™¨-Message-Queue" class="headerlink" title="2.1 Redis å®¹å™¨ (Message Queue)"></a>2.1 Redis å®¹å™¨ (Message Queue)</h3><ul>
<li><strong>èŒè´£</strong>: æä¾›é«˜æ€§èƒ½çš„æ¶ˆæ¯é˜Ÿåˆ—æœåŠ¡ï¼Œç”¨äº Scrapy æŠ“å–å™¨å’Œ Magnet è§£æå™¨ä¹‹é—´çš„å¼‚æ­¥é€šä¿¡ã€‚Scrapy å°†æŠ“å–åˆ°çš„åŸå§‹ç£åŠ›é“¾æ¥æ”¾å…¥é˜Ÿåˆ—ï¼Œè§£æå™¨ä»é˜Ÿåˆ—ä¸­æ¶ˆè´¹ã€‚</li>
<li><strong>é•œåƒ</strong>: <code>redis:7-alpine</code> (è½»é‡çº§ Redis é•œåƒ)</li>
<li><strong>æŒä¹…åŒ–</strong>: é€šè¿‡æ•°æ®å· <code>/data</code> æŒä¹…åŒ– Redis æ•°æ®ã€‚</li>
</ul>
<h3 id="2-2-PostgreSQL-å®¹å™¨-Database"><a href="#2-2-PostgreSQL-å®¹å™¨-Database" class="headerlink" title="2.2 PostgreSQL å®¹å™¨ (Database)"></a>2.2 PostgreSQL å®¹å™¨ (Database)</h3><ul>
<li><strong>èŒè´£</strong>: å­˜å‚¨æ‰€æœ‰æŠ“å–ã€è§£æå¹¶ç»“æ„åŒ–åçš„ç£åŠ›é“¾æ¥æ•°æ®ï¼ŒåŒ…æ‹¬æ ‡é¢˜ã€æ–‡ä»¶åã€å¤§å°ã€å›¾ç‰‡ URLã€æ¥æº URLã€æŠ“å–æ—¶é—´ç­‰ã€‚</li>
<li><strong>é•œåƒ</strong>: <code>postgres:15-alpine</code> (PostgreSQL å®˜æ–¹è½»é‡çº§é•œåƒ)</li>
<li><strong>æŒä¹…åŒ–</strong>: é€šè¿‡æ•°æ®å· <code>/var/lib/postgresql/data</code> æŒä¹…åŒ–æ•°æ®åº“æ•°æ®ã€‚</li>
<li><strong>é…ç½®</strong>: ç¯å¢ƒå˜é‡è®¾ç½®æ•°æ®åº“åã€ç”¨æˆ·åå’Œå¯†ç ã€‚</li>
</ul>
<h3 id="2-3-qBittorrent-å®¹å™¨-Magnet-Metadata-Resolver"><a href="#2-3-qBittorrent-å®¹å™¨-Magnet-Metadata-Resolver" class="headerlink" title="2.3 qBittorrent å®¹å™¨ (Magnet Metadata Resolver)"></a>2.3 qBittorrent å®¹å™¨ (Magnet Metadata Resolver)</h3><ul>
<li><strong>èŒè´£</strong>: ä½œä¸ºæ ¸å¿ƒå…ƒæ•°æ®è§£ææœåŠ¡ã€‚å®ƒè¿è¡Œ qBittorrent å®¢æˆ·ç«¯ï¼Œè‡ªåŠ¨è¿æ¥ P2P ç½‘ç»œè·å–ç£åŠ›é“¾æ¥çš„å…ƒæ•°æ®ã€‚å…¶ä»–å®¹å™¨é€šè¿‡è°ƒç”¨å…¶ Web UI API è·å–è¿™äº›ä¿¡æ¯ã€‚</li>
<li><strong>é•œåƒ</strong>: <code>linuxserver/qbittorrent:latest</code> (æ¨èï¼ŒåŠŸèƒ½å®Œå–„ä¸”ç»´æŠ¤è‰¯å¥½)</li>
<li><strong>API æ¥å£</strong>: æä¾› Web UI APIï¼Œä¾› Magnet è§£æå™¨è°ƒç”¨ã€‚</li>
<li><strong>é…ç½®</strong>: ç¯å¢ƒå˜é‡è®¾ç½® Web UI ç«¯å£ã€ç”¨æˆ·åã€å¯†ç ã€ç”¨æˆ· ID&#x2F;ç»„ ID (PUID&#x2F;PGID) ç­‰ã€‚</li>
<li><strong>æŒä¹…åŒ–</strong>: é€šè¿‡æ•°æ®å· <code>/config</code> æŒä¹…åŒ–é…ç½®ï¼Œ<code>/downloads</code> ä½œä¸º qBittorrent çš„ä¸‹è½½ç›®å½•ï¼ˆå³ä½¿ä¸å®é™…ä¸‹è½½æ–‡ä»¶ä¹Ÿéœ€è¦ï¼‰ã€‚</li>
</ul>
<h3 id="2-4-Scrapy-æŠ“å–å®¹å™¨-Scraper"><a href="#2-4-Scrapy-æŠ“å–å®¹å™¨-Scraper" class="headerlink" title="2.4 Scrapy æŠ“å–å®¹å™¨ (Scraper)"></a>2.4 Scrapy æŠ“å–å®¹å™¨ (Scraper)</h3><ul>
<li><strong>èŒè´£</strong>: æ¨¡æ‹Ÿç”¨æˆ·è¡Œä¸ºè®¿é—®ç›®æ ‡ç½‘ç«™ï¼ŒæŠ“å–é¡µé¢å†…å®¹ï¼Œå¹¶ä»ä¸­æå–åŸå§‹ç£åŠ›é“¾æ¥å­—ç¬¦ä¸²ä»¥åŠé¡µé¢ä¸Šå¯è§çš„ç›¸å…³ä¿¡æ¯ï¼ˆå¦‚æ ‡é¢˜ã€åˆæ­¥æè¿°ã€é¡µé¢å›¾ç‰‡ URLï¼‰ã€‚</li>
<li><strong>æŠ€æœ¯æ ˆ</strong>: <strong>Python</strong>, <strong>Scrapy æ¡†æ¶</strong>, <code>requests</code>, <code>BeautifulSoup4</code> &#x2F; <code>lxml</code>ã€‚</li>
<li><strong>æ•°æ®æµ</strong>: å°†æŠ“å–åˆ°çš„åŸå§‹æ•°æ®æ¨é€åˆ° Redis æ¶ˆæ¯é˜Ÿåˆ—ã€‚</li>
<li><strong>åçˆ¬</strong>: å¯åœ¨å†…éƒ¨å®ç° User-Agent è½®æ¢ã€è¯·æ±‚å»¶è¿Ÿç­‰åŸºæœ¬åçˆ¬ç­–ç•¥ã€‚</li>
<li><strong>é•œåƒ</strong>: éœ€è¦æ‚¨åŸºäº Python å®˜æ–¹é•œåƒ (<code>python:3.x-slim-buster</code>) è‡ªè¡Œæ„å»º Dockerfileã€‚</li>
</ul>
<h3 id="2-5-Magnet-è§£æä¸å¤„ç†å®¹å™¨-Parser"><a href="#2-5-Magnet-è§£æä¸å¤„ç†å®¹å™¨-Parser" class="headerlink" title="2.5 Magnet è§£æä¸å¤„ç†å®¹å™¨ (Parser)"></a>2.5 Magnet è§£æä¸å¤„ç†å®¹å™¨ (Parser)</h3><ul>
<li><strong>èŒè´£</strong>: ä» Redis æ¶ˆæ¯é˜Ÿåˆ—ä¸­è·å–åŸå§‹ç£åŠ›é“¾æ¥ï¼Œç„¶åé€šè¿‡è°ƒç”¨ qBittorrent å®¹å™¨çš„ Web UI APIï¼Œè¯·æ±‚ qBittorrent è§£æè¯¥ç£åŠ›é“¾æ¥çš„å…ƒæ•°æ®ã€‚ä¸€æ—¦å…ƒæ•°æ®è·å–æˆåŠŸï¼ˆåŒ…å«å‡†ç¡®çš„æ–‡ä»¶åã€å¤§å°ã€æ–‡ä»¶ç»“æ„ï¼‰ï¼Œå°†ç»“æ„åŒ–æ•°æ®å­˜å‚¨åˆ° PostgreSQL æ•°æ®åº“ã€‚</li>
<li><strong>æŠ€æœ¯æ ˆ</strong>: <strong>Python</strong>, <code>requests</code> (æˆ–æ›´æ¨èçš„ <strong><code>qbittorrent-api</code> åº“</strong>ï¼Œç®€åŒ–ä¸ qBittorrent API äº¤äº’)ã€‚</li>
<li><strong>äº¤äº’é€»è¾‘</strong>: æ¶‰åŠå‘ qBittorrent API æ·»åŠ ç£åŠ›é“¾æ¥ã€è½®è¯¢å…¶è§£æçŠ¶æ€ã€è·å–å…ƒæ•°æ®åæ¸…ç† qBittorrent ä¸­çš„ä»»åŠ¡ã€‚</li>
<li><strong>é•œåƒ</strong>: éœ€è¦æ‚¨åŸºäº Python å®˜æ–¹é•œåƒ (<code>python:3.x-slim-buster</code>) è‡ªè¡Œæ„å»º Dockerfileã€‚</li>
</ul>
<h3 id="2-6-é¡µé¢æ˜¾ç¤ºå®¹å™¨-Web-UI"><a href="#2-6-é¡µé¢æ˜¾ç¤ºå®¹å™¨-Web-UI" class="headerlink" title="2.6 é¡µé¢æ˜¾ç¤ºå®¹å™¨ (Web UI)"></a>2.6 é¡µé¢æ˜¾ç¤ºå®¹å™¨ (Web UI)</h3><ul>
<li><strong>èŒè´£</strong>: æä¾›ä¸€ä¸ªç”¨æˆ·å‹å¥½çš„ç½‘é¡µç•Œé¢ï¼Œå±•ç¤º PostgreSQL ä¸­å­˜å‚¨çš„å·²æŠ“å–å’Œè§£æçš„ç£åŠ›é“¾æ¥æ•°æ®ï¼Œå¹¶å¯èƒ½æä¾›æœç´¢ã€è¿‡æ»¤ã€æ’åºç­‰åŠŸèƒ½ã€‚</li>
<li><strong>æŠ€æœ¯æ ˆ</strong>: <strong>Python (Flask&#x2F;Django)</strong>, HTML&#x2F;CSS&#x2F;JavaScript (å‰ç«¯æ¡†æ¶å¦‚ React&#x2F;Vue å¯é€‰)ã€‚</li>
<li><strong>æ•°æ®æµ</strong>: ä» PostgreSQL æ•°æ®åº“è¯»å–æ•°æ®å¹¶æ¸²æŸ“åˆ° Web é¡µé¢ã€‚</li>
<li><strong>é•œåƒ</strong>: éœ€è¦æ‚¨åŸºäº Python å®˜æ–¹é•œåƒ (<code>python:3.x-slim-buster</code>) æˆ–å…¶ä»– Web æœåŠ¡å™¨é•œåƒï¼ˆå¦‚ <code>nginx</code> + æ‚¨çš„å‰ç«¯é™æ€æ–‡ä»¶ï¼‰è‡ªè¡Œæ„å»º Dockerfileã€‚</li>
</ul>
<hr>
<h2 id="3-docker-compose-yml-é…ç½®ç¤ºä¾‹"><a href="#3-docker-compose-yml-é…ç½®ç¤ºä¾‹" class="headerlink" title="3. docker-compose.yml é…ç½®ç¤ºä¾‹"></a>3. <code>docker-compose.yml</code> é…ç½®ç¤ºä¾‹</h2><p>ä»¥ä¸‹æ˜¯æ•´ä¸ªç³»ç»Ÿçš„ <code>docker-compose.yml</code> æ–‡ä»¶å†…å®¹ã€‚è¯·å°†å…¶ä¿å­˜ä¸º <code>docker-compose.yml</code> æ–‡ä»¶ï¼Œå¹¶æ ¹æ®æ‚¨çš„å®é™…éœ€æ±‚å’Œæ•æ„Ÿä¿¡æ¯è¿›è¡Œä¿®æ”¹ã€‚</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;3.8&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="comment"># 1. æ¶ˆæ¯é˜Ÿåˆ— (Redis)</span></span><br><span class="line">  <span class="attr">redis:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">redis:7-alpine</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">magnet_redis</span></span><br><span class="line">    <span class="attr">command:</span> <span class="string">redis-server</span> <span class="string">--appendonly</span> <span class="literal">yes</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">redis_data:/data</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;6379:6379&quot;</span> <span class="comment"># æš´éœ² Redis ç«¯å£ï¼Œå¦‚æœå…¶ä»–åº”ç”¨éœ€è¦ä»å¤–éƒ¨è®¿é—®</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">unless-stopped</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># 2. æ•°æ®åº“ (PostgreSQL)</span></span><br><span class="line">  <span class="attr">postgresql:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">postgres:15-alpine</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">magnet_postgresql</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="attr">POSTGRES_DB:</span> <span class="string">magnet_db</span></span><br><span class="line">      <span class="attr">POSTGRES_USER:</span> <span class="string">user</span></span><br><span class="line">      <span class="attr">POSTGRES_PASSWORD:</span> <span class="string">your_strong_password</span> <span class="comment"># **è¯·åŠ¡å¿…æ›´æ”¹ä¸ºå¼ºå¯†ç **</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">postgres_data:/var/lib/postgresql/data</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;5432:5432&quot;</span> <span class="comment"># æš´éœ² PostgreSQL ç«¯å£ï¼Œå¦‚æœéœ€è¦ä»å¤–éƒ¨è¿æ¥æ•°æ®åº“å®¢æˆ·ç«¯</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">unless-stopped</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># 3. qBittorrent (ç£åŠ›é“¾æ¥å…ƒæ•°æ®è§£ææ ¸å¿ƒ)</span></span><br><span class="line">  <span class="attr">qbittorrent:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">linuxserver/qbittorrent:latest</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">magnet_qbittorrent</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="attr">PUID:</span> <span class="number">1000</span> <span class="comment"># å®¿ä¸»æœºç”¨æˆ·IDï¼Œç”¨äºæ–‡ä»¶æƒé™ï¼Œè¯·æ ¹æ®æ‚¨çš„å®¿ä¸»æœºç”¨æˆ·IDè°ƒæ•´</span></span><br><span class="line">      <span class="attr">PGID:</span> <span class="number">1000</span> <span class="comment"># å®¿ä¸»æœºç”¨æˆ·ç»„IDï¼Œç”¨äºæ–‡ä»¶æƒé™ï¼Œè¯·æ ¹æ®æ‚¨çš„å®¿ä¸»æœºç”¨æˆ·ç»„IDè°ƒæ•´</span></span><br><span class="line">      <span class="attr">TZ:</span> <span class="string">America/Denver</span> <span class="comment"># è®¾ç½®æ—¶åŒºï¼Œè¯·æ ¹æ®æ‚¨çš„å®é™…æ—¶åŒºè°ƒæ•´</span></span><br><span class="line">      <span class="attr">WEBUI_PORT:</span> <span class="number">8080</span> <span class="comment"># qBittorrent Web UI ç«¯å£</span></span><br><span class="line">      <span class="attr">QBITTORRENT_WEBUI_USERNAME:</span> <span class="string">admin</span> <span class="comment"># Web UI ç”¨æˆ·åï¼Œè¯·æ›´æ”¹</span></span><br><span class="line">      <span class="attr">QBITTORRENT_WEBUI_PASSWORD:</span> <span class="string">your_qb_password</span> <span class="comment"># Web UI å¯†ç ï¼Œ**è¯·åŠ¡å¿…æ›´æ”¹ä¸ºå¼ºå¯†ç **</span></span><br><span class="line">      <span class="comment"># å¦‚æœåœ¨å¼€å‘é˜¶æ®µé‡åˆ°CSRFé—®é¢˜ï¼Œå¯ä»¥æš‚æ—¶ç¦ç”¨CSRFï¼ˆç”Ÿäº§ç¯å¢ƒä¸æ¨èï¼Œæˆ–ä½¿ç”¨qBittorrent-apiåº“å¤„ç†ï¼‰</span></span><br><span class="line">      <span class="comment"># WEBUI_EXTRA_ARGUMENTS: --disable-csrf</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">qbittorrent_config:/config</span> <span class="comment"># qBittorrent é…ç½®æŒä¹…åŒ–</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">qbittorrent_downloads:/downloads</span> <span class="comment"># ä¸‹è½½ç›®å½• (å³ä¾¿ä¸ä¸‹è½½æ–‡ä»¶ï¼ŒqBittorrentä¹Ÿéœ€è¦è¿™ä¸ªç›®å½•)</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;8080:8080&quot;</span> <span class="comment"># qBittorrent Web UI ç«¯å£</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;6881:6881&quot;</span> <span class="comment"># BitTorrent TCP ç«¯å£</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;6881:6881/udp&quot;</span> <span class="comment"># BitTorrent UDP ç«¯å£</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">unless-stopped</span></span><br><span class="line">    <span class="comment"># qBittorrentæœ¬èº«ä¸ç›´æ¥ä¾èµ–DBï¼Œä½†ä¸ºäº†é€»è¾‘ä¸Šçš„æœåŠ¡å¯åŠ¨é¡ºåºï¼Œå¯ä»¥ä¾èµ–DB</span></span><br><span class="line">    <span class="attr">depends_on:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">postgresql</span> </span><br><span class="line"></span><br><span class="line">  <span class="comment"># 4. Scrapy æŠ“å–å®¹å™¨</span></span><br><span class="line">  <span class="attr">scraper:</span></span><br><span class="line">    <span class="comment"># ä½ éœ€è¦æ„å»ºè‡ªå·±çš„Scrapy Dockeré•œåƒã€‚</span></span><br><span class="line">    <span class="comment"># ç¡®ä¿åœ¨ scraper ç›®å½•ä¸‹æœ‰ Dockerfile å’Œ Scrapy é¡¹ç›®ä»£ç ã€‚</span></span><br><span class="line">    <span class="attr">build:</span> </span><br><span class="line">      <span class="attr">context:</span> <span class="string">./scraper</span> <span class="comment"># æŒ‡å®š Scrapy åº”ç”¨çš„ Dockerfile è·¯å¾„</span></span><br><span class="line">      <span class="attr">dockerfile:</span> <span class="string">Dockerfile</span> </span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">magnet_scraper</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="attr">REDIS_HOST:</span> <span class="string">redis</span></span><br><span class="line">      <span class="attr">REDIS_PORT:</span> <span class="number">6379</span></span><br><span class="line">      <span class="comment"># å¯ä»¥åœ¨è¿™é‡Œå®šä¹‰å…¶ä»– Scrapy é…ç½®ï¼Œå¦‚ä»£ç†è®¾ç½®ã€ç›®æ ‡URLç­‰</span></span><br><span class="line">    <span class="attr">depends_on:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">redis</span> <span class="comment"># Scrapy ä¾èµ– Redis å‘é€æ•°æ®</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">on-failure</span> <span class="comment"># å¤±è´¥æ—¶å°è¯•é‡å¯</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># 5. Magnet è§£æä¸å¤„ç†å®¹å™¨</span></span><br><span class="line">  <span class="attr">parser:</span></span><br><span class="line">    <span class="comment"># ä½ éœ€è¦æ„å»ºè‡ªå·±çš„è§£æå™¨ Docker é•œåƒã€‚</span></span><br><span class="line">    <span class="comment"># ç¡®ä¿åœ¨ parser ç›®å½•ä¸‹æœ‰ Dockerfile å’Œè§£æå™¨ä»£ç ã€‚</span></span><br><span class="line">    <span class="attr">build:</span></span><br><span class="line">      <span class="attr">context:</span> <span class="string">./parser</span> <span class="comment"># æŒ‡å®šè§£æå™¨åº”ç”¨çš„ Dockerfile è·¯å¾„</span></span><br><span class="line">      <span class="attr">dockerfile:</span> <span class="string">Dockerfile</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">magnet_parser</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="attr">REDIS_HOST:</span> <span class="string">redis</span></span><br><span class="line">      <span class="attr">REDIS_PORT:</span> <span class="number">6379</span></span><br><span class="line">      <span class="attr">DB_HOST:</span> <span class="string">postgresql</span></span><br><span class="line">      <span class="attr">DB_NAME:</span> <span class="string">magnet_db</span></span><br><span class="line">      <span class="attr">DB_USER:</span> <span class="string">user</span></span><br><span class="line">      <span class="attr">DB_PASSWORD:</span> <span class="string">your_strong_password</span> <span class="comment"># **ä¸ PostgreSQL å¯†ç ä¸€è‡´**</span></span><br><span class="line">      <span class="attr">QBT_HOST:</span> <span class="string">qbittorrent</span></span><br><span class="line">      <span class="attr">QBT_PORT:</span> <span class="number">8080</span></span><br><span class="line">      <span class="attr">QBT_USERNAME:</span> <span class="string">admin</span> <span class="comment"># ä¸ qBittorrent ç”¨æˆ·åä¸€è‡´</span></span><br><span class="line">      <span class="attr">QBT_PASSWORD:</span> <span class="string">your_qb_password</span> <span class="comment"># **ä¸ qBittorrent å¯†ç ä¸€è‡´**</span></span><br><span class="line">    <span class="attr">depends_on:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">redis</span> <span class="comment"># è§£æå™¨ä¾èµ– Redis è·å–ä»»åŠ¡</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">postgresql</span> <span class="comment"># è§£æå™¨ä¾èµ– PostgreSQL å­˜å‚¨æ•°æ®</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">qbittorrent</span> <span class="comment"># è§£æå™¨ä¾èµ– qBittorrent API è·å–å…ƒæ•°æ®</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">on-failure</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># 6. é¡µé¢æ˜¾ç¤ºå®¹å™¨ (Web UI)</span></span><br><span class="line">  <span class="attr">web_ui:</span></span><br><span class="line">    <span class="comment"># ä½ éœ€è¦æ„å»ºè‡ªå·±çš„ Web UI Docker é•œåƒã€‚</span></span><br><span class="line">    <span class="comment"># ç¡®ä¿åœ¨ web_ui ç›®å½•ä¸‹æœ‰ Dockerfile å’Œ Web åº”ç”¨ä»£ç ã€‚</span></span><br><span class="line">    <span class="attr">build:</span></span><br><span class="line">      <span class="attr">context:</span> <span class="string">./web_ui</span> <span class="comment"># æŒ‡å®š Web UI åº”ç”¨çš„ Dockerfile è·¯å¾„</span></span><br><span class="line">      <span class="attr">dockerfile:</span> <span class="string">Dockerfile</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">magnet_web_ui</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="attr">DB_HOST:</span> <span class="string">postgresql</span></span><br><span class="line">      <span class="attr">DB_NAME:</span> <span class="string">magnet_db</span></span><br><span class="line">      <span class="attr">DB_USER:</span> <span class="string">user</span></span><br><span class="line">      <span class="attr">DB_PASSWORD:</span> <span class="string">your_strong_password</span> <span class="comment"># **ä¸ PostgreSQL å¯†ç ä¸€è‡´**</span></span><br><span class="line">      <span class="comment"># å…¶ä»–Web UIç›¸å…³çš„é…ç½®</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;80:80&quot;</span> <span class="comment"># æš´éœ² Web UI ç«¯å£</span></span><br><span class="line">    <span class="attr">depends_on:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">postgresql</span> <span class="comment"># Web UI ä¾èµ– PostgreSQL è·å–æ•°æ®</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">unless-stopped</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ•°æ®å·å®šä¹‰ï¼Œç”¨äºæŒä¹…åŒ–æ•°æ®</span></span><br><span class="line"><span class="attr">volumes:</span></span><br><span class="line">  <span class="attr">redis_data:</span></span><br><span class="line">  <span class="attr">postgres_data:</span></span><br><span class="line">  <span class="attr">qbittorrent_config:</span></span><br><span class="line">  <span class="attr">qbittorrent_downloads:</span> <span class="comment"># ç”¨äºqBittorrentçš„ä¸‹è½½ç›®å½•ï¼Œå³ä½¿ä¸å®é™…ä¸‹è½½æ–‡ä»¶ä¹Ÿéœ€è¦</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="4-å¦‚ä½•éƒ¨ç½²"><a href="#4-å¦‚ä½•éƒ¨ç½²" class="headerlink" title="4. å¦‚ä½•éƒ¨ç½²"></a>4. å¦‚ä½•éƒ¨ç½²</h2><ol>
<li><strong>åˆ›å»ºé¡¹ç›®ç›®å½•ç»“æ„</strong>:<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">my_magnet_project/</span><br><span class="line">â”œâ”€â”€ docker-compose.yml</span><br><span class="line">â”œâ”€â”€ scraper/</span><br><span class="line">â”‚   â””â”€â”€ Dockerfile</span><br><span class="line">â”‚   â””â”€â”€ (ä½ çš„ Scrapy é¡¹ç›®ä»£ç )</span><br><span class="line">â”œâ”€â”€ parser/</span><br><span class="line">â”‚   â””â”€â”€ Dockerfile</span><br><span class="line">â”‚   â””â”€â”€ (ä½ çš„ Python è§£æå™¨ä»£ç )</span><br><span class="line">â”œâ”€â”€ web_ui/</span><br><span class="line">â”‚   â””â”€â”€ Dockerfile</span><br><span class="line">â”‚   â””â”€â”€ (ä½ çš„ Web åº”ç”¨ä»£ç )</span><br></pre></td></tr></table></figure></li>
<li><strong>åœ¨å„è‡ªçš„æœåŠ¡ç›®å½• (<code>scraper</code>, <code>parser</code>, <code>web_ui</code>) ä¸­åˆ›å»º <code>Dockerfile</code></strong>: è¿™äº›æ–‡ä»¶å°†å®šä¹‰å¦‚ä½•æ„å»ºæ¯ä¸ªæœåŠ¡çš„ Docker é•œåƒã€‚è¯·æ ¹æ®æ‚¨é€‰æ‹©çš„æŠ€æœ¯æ ˆå’Œä»£ç å†…å®¹ç¼–å†™è¿™äº› <code>Dockerfile</code>ã€‚</li>
<li><strong>åœ¨ <code>docker-compose.yml</code> ä¸­æ›¿æ¢å ä½ç¬¦</strong>:<ul>
<li><code>your_strong_password</code></li>
<li><code>your_qb_password</code></li>
<li><code>PUID</code>, <code>PGID</code>, <code>TZ</code></li>
</ul>
</li>
<li><strong>æ‰“å¼€ç»ˆç«¯ï¼Œå¯¼èˆªåˆ° <code>my_magnet_project</code> ç›®å½•</strong>:</li>
<li><strong>è¿è¡Œ Docker Compose</strong>:<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose up -d</span><br></pre></td></tr></table></figure>
è¿™ä¼šæ„å»ºæ‰€æœ‰è‡ªå®šä¹‰é•œåƒï¼ˆå¦‚æœå®ƒä»¬ä¸å­˜åœ¨ï¼‰ï¼Œç„¶åå¯åŠ¨å¹¶è¿è¡Œæ‰€æœ‰å®šä¹‰çš„å®¹å™¨ã€‚</li>
<li><strong>è®¿é—®åº”ç”¨</strong>: ä¸€æ—¦æ‰€æœ‰å®¹å™¨å¯åŠ¨æˆåŠŸï¼Œæ‚¨å°±å¯ä»¥é€šè¿‡æµè§ˆå™¨è®¿é—® <code>http://localhost:80</code> (Web UI ç«¯å£) å’Œ <code>http://localhost:8080</code> (qBittorrent Web UI)ã€‚</li>
</ol>
<p>è¿™ä¸ªå¤šå®¹å™¨æ–¹æ¡ˆæä¾›äº†ä¸€ä¸ªå¼ºå¤§ä¸”çµæ´»çš„å¹³å°ï¼Œç”¨äºæ„å»ºæ‚¨çš„ç£åŠ›é“¾æ¥è‡ªåŠ¨æŠ“å–æœºå™¨äººç¨‹åºã€‚</p>

    </div>
    
    <div class="post__license">
        <p>
            <strong>æœ¬æ–‡ä½œè€…ï¼š</strong>Samjoe Yang
        </p>
        <p>
            <strong>
                æœ¬æ–‡é“¾æ¥ï¼š
            </strong>
            <a href="https://need.uno/duo-rong-qi-ci-li-jie-xi-xi-tong-bu-shu-shi-li/">https://need.uno/duo-rong-qi-ci-li-jie-xi-xi-tong-bu-shu-shi-li/</a>
        </p>
        
            <strong>
                <p>ç‰ˆæƒå£°æ˜ï¼šæœ¬ä½œå“é‡‡ç”¨ <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-sa/4.0/">çŸ¥è¯†å…±äº«ç½²å-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™…è®¸å¯åè®®</a> è¿›è¡Œè®¸å¯ã€‚</p>

            </strong>
        
    </div>
 
    <div class="post-footer__meta"><p>æ›´æ–°äº 2025-06-23</p></div> 
    <div class="post-entry__tags"><a href="/tags/Docker/" class="post-tags__link button"># Docker</a><a href="/tags/%E9%A1%B9%E7%9B%AE%E9%9C%80%E6%B1%82/" class="post-tags__link button"># é¡¹ç›®éœ€æ±‚</a><a href="/tags/Docker-Compose/" class="post-tags__link button"># Docker Compose</a><a href="/tags/%E7%A3%81%E5%8A%9B%E9%93%BE%E6%8E%A5/" class="post-tags__link button"># ç£åŠ›é“¾æ¥</a><a href="/tags/qBittorrent/" class="post-tags__link button"># qBittorrent</a><a href="/tags/Redis/" class="post-tags__link button"># Redis</a><a href="/tags/PostgreSQL/" class="post-tags__link button"># PostgreSQL</a><a href="/tags/%E7%88%AC%E8%99%AB/" class="post-tags__link button"># çˆ¬è™«</a><a href="/tags/Scrapy/" class="post-tags__link button"># Scrapy</a><a href="/tags/%E7%B3%BB%E7%BB%9F%E9%83%A8%E7%BD%B2/" class="post-tags__link button"># ç³»ç»Ÿéƒ¨ç½²</a><a href="/tags/%E5%AE%B9%E5%99%A8%E5%8C%96/" class="post-tags__link button"># å®¹å™¨åŒ–</a></div> 
    
<div class="post-share">
    <div class="share-buttons">
        
            <a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fneed.uno%2Fduo-rong-qi-ci-li-jie-xi-xi-tong-bu-shu-shi-li%2F&amp;text=%E5%A4%9A%E5%AE%B9%E5%99%A8%E7%A3%81%E5%8A%9B%E8%A7%A3%E6%9E%90%E7%B3%BB%E7%BB%9F%E9%83%A8%E7%BD%B2%E7%A4%BA%E4%BE%8B%EF%BC%88Docker%20Compose%EF%BC%89&amp;via=samjoeyang"
               class="share-button"
               data-share="twitter"
               target="_blank"
               rel="noopener noreferrer">
                <i class="fab fa-twitter"></i>
            </a>
        
            <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fneed.uno%2Fduo-rong-qi-ci-li-jie-xi-xi-tong-bu-shu-shi-li%2F"
               class="share-button"
               data-share="facebook"
               target="_blank"
               rel="noopener noreferrer">
                <i class="fab fa-facebook"></i>
            </a>
        
            <a href="https://www.reddit.com/submit?url=https%3A%2F%2Fneed.uno%2Fduo-rong-qi-ci-li-jie-xi-xi-tong-bu-shu-shi-li%2F&amp;title=%E5%A4%9A%E5%AE%B9%E5%99%A8%E7%A3%81%E5%8A%9B%E8%A7%A3%E6%9E%90%E7%B3%BB%E7%BB%9F%E9%83%A8%E7%BD%B2%E7%A4%BA%E4%BE%8B%EF%BC%88Docker%20Compose%EF%BC%89"
               class="share-button"
               data-share="reddit"
               target="_blank"
               rel="noopener noreferrer">
                <i class="fab fa-reddit"></i>
            </a>
        
            <a href="https://t.me/share/url?url=https%3A%2F%2Fneed.uno%2Fduo-rong-qi-ci-li-jie-xi-xi-tong-bu-shu-shi-li%2F&amp;text=%E5%A4%9A%E5%AE%B9%E5%99%A8%E7%A3%81%E5%8A%9B%E8%A7%A3%E6%9E%90%E7%B3%BB%E7%BB%9F%E9%83%A8%E7%BD%B2%E7%A4%BA%E4%BE%8B%EF%BC%88Docker%20Compose%EF%BC%89"
               class="share-button"
               data-share="telegram"
               target="_blank"
               rel="noopener noreferrer">
                <i class="fab fa-telegram"></i>
            </a>
        
            <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fneed.uno%2Fduo-rong-qi-ci-li-jie-xi-xi-tong-bu-shu-shi-li%2F&amp;title=%E5%A4%9A%E5%AE%B9%E5%99%A8%E7%A3%81%E5%8A%9B%E8%A7%A3%E6%9E%90%E7%B3%BB%E7%BB%9F%E9%83%A8%E7%BD%B2%E7%A4%BA%E4%BE%8B%EF%BC%88Docker%20Compose%EF%BC%89&amp;summary="
               class="share-button"
               data-share="linkedin"
               target="_blank"
               rel="noopener noreferrer">
                <i class="fab fa-linkedin"></i>
            </a>
        
            <a href="https://service.weibo.com/share/share.php?url=https%3A%2F%2Fneed.uno%2Fduo-rong-qi-ci-li-jie-xi-xi-tong-bu-shu-shi-li%2F&amp;title=%E5%A4%9A%E5%AE%B9%E5%99%A8%E7%A3%81%E5%8A%9B%E8%A7%A3%E6%9E%90%E7%B3%BB%E7%BB%9F%E9%83%A8%E7%BD%B2%E7%A4%BA%E4%BE%8B%EF%BC%88Docker%20Compose%EF%BC%89&amp;pic="
               class="share-button"
               data-share="weibo"
               target="_blank"
               rel="noopener noreferrer">
                <i class="fab fa-weibo"></i>
            </a>
        
            <a href="https://connect.qq.com/widget/shareqq/index.html?url=https%3A%2F%2Fneed.uno%2Fduo-rong-qi-ci-li-jie-xi-xi-tong-bu-shu-shi-li%2F&amp;title=%E5%A4%9A%E5%AE%B9%E5%99%A8%E7%A3%81%E5%8A%9B%E8%A7%A3%E6%9E%90%E7%B3%BB%E7%BB%9F%E9%83%A8%E7%BD%B2%E7%A4%BA%E4%BE%8B%EF%BC%88Docker%20Compose%EF%BC%89&amp;summary=&amp;pics="
               class="share-button"
               data-share="qq"
               target="_blank"
               rel="noopener noreferrer">
                <i class="fab fa-qq"></i>
            </a>
        
            <a href="javascript:void(0)"
               class="share-button"
               data-share="wechat"
               target="_blank"
               rel="noopener noreferrer">
                <i class="fab fa-weixin"></i>
            </a>
        
            <a href="javascript:void(0)"
               class="share-button"
               data-share="wechat-moments"
               target="_blank"
               rel="noopener noreferrer">
                <i class="fas fa-share-alt"></i>
            </a>
        
    </div>
</div>

<style>
.post-share {
    margin: 2rem 0;
    text-align: center;
}

.share-buttons {
    display: flex;
    justify-content: center;
    gap: 1rem;
}

.share-button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: var(--main-color);
    color: white;
    text-decoration: none;
    transition: all 0.3s ease;
}

.share-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 2px 8px rgba(0,0,0,0.2);
}

.share-button i {
    font-size: 1.2rem;
}
</style>



</article>


    <div class="nav">
        <div class="nav__prev">
            
                <a href="/dang-ai-kai-shi-le-suo-ren-lei/" class="nav__link">
                    <div>
                        <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M589.088 790.624L310.464 512l278.624-278.624 45.248 45.248L400.96 512l233.376 233.376z" fill="#808080"></path></svg>
                    </div>
                    <div>
                        <div class="nav__label">
                            ä¸Šä¸€ç¯‡
                        </div>
                        <div class="nav__title">
                            å½“AIå¼€å§‹â€œå‹’ç´¢â€äººç±»ï¼šAnthropicçš„è­¦å‘Šåªæ˜¯å†°å±±ä¸€è§’ï¼Ÿ
                        </div>
                    </div>
                </a>
            
        </div>
        <div class="nav__next">
            
                <a href="/dang-you-xi-yu-shang-ban-quan-yi-ge-guan-yu-sdk-qin-quan-de-gu-shi/" class="nav__link">
                    <div>
                        <div class="nav__label">
                            ä¸‹ä¸€ç¯‡
                        </div>
                        <div class="nav__title">
                            å½“æ¸¸æˆé‡ä¸Šç‰ˆæƒï¼šä¸€ä¸ªå…³äºSDKä¾µæƒçš„æ•…äº‹
                        </div>
                    </div>
                    <div>
                        <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M434.944 790.624l-45.248-45.248L623.04 512l-233.376-233.376 45.248-45.248L713.568 512z" fill="#808080"></path></svg>
                    </div>
                </a>
            
        </div>
    </div>



    <div class="post__comments content-card" id="comment">
        
    <h4>è¯„è®º</h4>
    
    
    
    
    
    
    
    
    
    
    
    
    
<div id="utterances-container" sid="duo-rong-qi-ci-li-jie-xi-xi-tong-bu-shu-shi-li/"></div>
<script type="text/javascript">
  var repo = "samjoeyang/blog2025";
  var issueTerm = "title";
  var theme = "github-light";
  var label = "";
  (function () {
    var container = document.getElementById("utterances-container");
    var script = document.createElement("script");
    script.src = "https://utteranc.es/client.js";
    script.setAttribute("repo", repo);
    script.setAttribute("issue-term", issueTerm);
    script.setAttribute("theme", theme);
    script.setAttribute("label", label);
    script.crossorigin = "anonymous";
    script.async = true;

    container.appendChild(script);
  })();
</script>




    </div>



</main>

            <footer class="footer">
    
    


    
     
 

 
    
        
        <p class="footer-copyright">
            Copyright Â© 2025 <a href="/">Need.UNO</a>
        </p>
    
    
    <!-- <p>Powered by <a href="https://hexo.io" target="_blank">Hexo</a> | Theme - <a href="https://github.com/ChrAlpha/hexo-theme-cards" target="_blank">Cards</a></p> -->
</footer>

        </div>
         

 
    <script>
        window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
        ga('create', 'G-KBL1X494XR', 'auto');
        ga('send', 'pageview');
    </script>
    <script async src="https://www.google-analytics.com/analytics.js"></script>
 


    <script async src="https://www.googletagmanager.com/gtag/js?id=G-KBL1X494XR"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-KBL1X494XR');
    </script>
 

 

 



 



 


    
 

 

 

 

 

 


    

    

    
    

    
    
    

    
    

    
    
    
    
    

    
    
    



    
        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1157022733083083" crossorigin="anonymous"></script> 
    
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"> 
    
        <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script> 
    
        <script> function isWeChatBrowser() { return /micromessenger/i.test(navigator.userAgent); } document.addEventListener("DOMContentLoaded", function() { const wechatButtons = document.querySelectorAll("[data-share=wechat], [data-share=wechat-moments]"); wechatButtons.forEach(button => { button.addEventListener("click", function(e) { e.preventDefault(); if (isWeChatBrowser()) { // å¾®ä¿¡å†…ç½®æµè§ˆå™¨ï¼Œæç¤ºç”¨æˆ·ä½¿ç”¨å³ä¸Šè§’èœå•åˆ†äº« const modal = document.createElement("div"); modal.style.cssText = "position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);display:flex;justify-content:center;align-items:center;z-index:9999;"; modal.innerHTML = `<div style="background:white;padding:20px 30px;border-radius:8px;text-align:center;font-size:1.1rem;">è¯·ç‚¹å‡»å³ä¸Šè§’èœå•è¿›è¡Œåˆ†äº«</div>`; modal.addEventListener("click", () => modal.remove()); document.body.appendChild(modal); } else { // æ™®é€šæµè§ˆå™¨ï¼Œå¼¹äºŒç»´ç  const url = window.location.href; const qrcode = new QRCode(document.createElement("div"), { text: url, width: 128, height: 128 }); const qrcodeImg = qrcode._el.querySelector("img"); const modal = document.createElement("div"); modal.style.cssText = "position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);display:flex;justify-content:center;align-items:center;z-index:9999;"; modal.innerHTML = `<div style=\"background:white;padding:20px;border-radius:8px;text-align:center;\"><img src=\"${qrcodeImg.src}\" style=\"margin-bottom:10px;\"><p>è¯·ä½¿ç”¨å¾®ä¿¡æ‰«æäºŒç»´ç åˆ†äº«</p></div>`; modal.addEventListener("click", () => modal.remove()); document.body.appendChild(modal); } }); }); }); </script> 
    

    </body>
    <amp-auto-ads type="adsense" data-ad-client="ca-pub-1157022733083083"></amp-auto-ads>
</html>
